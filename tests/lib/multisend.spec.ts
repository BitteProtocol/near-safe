import { encodeMulti } from "../../src/lib/multisend";

describe("Multisend", () => {
  it("encodeMulti", () => {
    const tx1 = {
      to: "0x0000000000000000000000000000000000000001",
      value: "1",
      data: "0x12",
    };
    const tx2 = {
      to: "0x0000000000000000000000000000000000000002",
      value: "2",
      data: "0x34",
    };
    expect(encodeMulti([tx1, tx2])).toEqual({
      data: "0x8d80ff0a000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000ac000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000011200000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000001340000000000000000000000000000000000000000",
      operation: 1,
      to: "0x9641d764fc13c8B624c04430C7356C1C7C8102e2",
      value: "0x00",
    });
  });
});
